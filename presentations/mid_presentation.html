<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Wilcox">

<title>Demand of Football in European Leagues</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="mid_presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="mid_presentation_files/libs/quarto-html/quarto.js"></script>
<script src="mid_presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="mid_presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="mid_presentation_files/libs/quarto-html/anchor.min.js"></script>
<link href="mid_presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="mid_presentation_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="mid_presentation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="mid_presentation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="mid_presentation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Demand of Football in European Leagues</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matthew Wilcox </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
</section>
<section id="dataset" class="level2">
<h2 class="anchored" data-anchor-id="dataset">Dataset</h2>
<ul>
<li>Combined Data sets from Football-Data.co.uk and worldfootball.net</li>
<li>Shrunk data from 107 columns to 38</li>
<li>Data is from 2010-2019</li>
<li>Conisists of 53,238 rows</li>
</ul>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>total_data_set <span class="op">=</span> pd.read_pickle(<span class="st">'d:/Python Work/Capstone/data/final_datasets/total_data.pkl'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total_data_set.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['home_team', 'away_team', 'home_score', 'away_score', 'date', 'time',
       'day_of_week', 'raw_attendance', 'stadium', 'city', 'country',
       'capacity', 'url', 'division', 'FTHG', 'FTAG', 'FTR', 'HTHG', 'HTAG',
       'HTR', 'B365H', 'B365D', 'B365A', 'BWH', 'BWD', 'BWA', 'WHH', 'WHD',
       'WHA', 'VCH', 'VCD', 'VCA', 'BbMx&gt;2.5', 'BbAv&gt;2.5', 'BbMx&lt;2.5',
       'BbAv&lt;2.5', 'capacity_filled', 'date_time'],
      dtype='object')</code></pre>
</div>
</div>
</section>
<section id="progress" class="level2">
<h2 class="anchored" data-anchor-id="progress">Progress</h2>
</section>
<section id="day-of-the-week-capacity-filled" class="level2">
<h2 class="anchored" data-anchor-id="day-of-the-week-capacity-filled">Day of the Week Capacity Filled</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>time_df <span class="op">=</span> pd.read_pickle(<span class="st">'d:/Python Work/Capstone/data/final_datasets/time_shrink.pkl'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>df_grouped_mean <span class="op">=</span> time_df.groupby(<span class="st">'day_of_week'</span>)[<span class="st">'raw_attendance'</span>, <span class="st">'capacity_filled'</span>].mean().reset_index()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>df_grouped_median <span class="op">=</span> time_df.groupby(<span class="st">'day_of_week'</span>)[<span class="st">'raw_attendance'</span>, <span class="st">'capacity_filled'</span>].median().reset_index()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>day_categories <span class="op">=</span> [<span class="st">'Monday'</span>, <span class="st">'Tuesday'</span>, <span class="st">'Wednesday'</span>, <span class="st">'Thursday'</span>, <span class="st">'Friday'</span>, <span class="st">'Saturday'</span>, <span class="st">'Sunday'</span>]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>df_grouped_median[<span class="st">'day_of_week'</span>] <span class="op">=</span> pd.Categorical(df_grouped_median[<span class="st">'day_of_week'</span>], categories<span class="op">=</span> day_categories)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>df_grouped_median.sort_values(by <span class="op">=</span> <span class="st">'day_of_week'</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>df_grouped_median, x <span class="op">=</span> <span class="st">'day_of_week'</span>, y <span class="op">=</span> <span class="st">'capacity_filled'</span>).<span class="bu">set</span>(title <span class="op">=</span><span class="st">'Median Capacity Filled'</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Day of the Week'</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Capacity Filled'</span>)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\matth\AppData\Local\Temp\ipykernel_2980\1725196363.py:3: FutureWarning:

Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.

C:\Users\matth\AppData\Local\Temp\ipykernel_2980\1725196363.py:4: FutureWarning:

Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-4-output-2.png" width="589" height="506"></p>
</div>
</div>
</section>
<section id="day-of-the-week-attendance" class="level2">
<h2 class="anchored" data-anchor-id="day-of-the-week-attendance">Day of the Week Attendance</h2>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>df_grouped_median, x <span class="op">=</span> <span class="st">'day_of_week'</span>, y <span class="op">=</span> <span class="st">'raw_attendance'</span>).<span class="bu">set</span>(title <span class="op">=</span><span class="st">'Median Attendance'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Attendance'</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Day of Week'</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-5-output-1.png" width="610" height="506"></p>
</div>
</div>
</section>
<section id="day-of-the-week-total-count" class="level2">
<h2 class="anchored" data-anchor-id="day-of-the-week-total-count">Day of the Week total Count</h2>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>grouped_week_count <span class="op">=</span> time_df.groupby(<span class="st">'day_of_week'</span>).count().reset_index()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>grouped_week_count[<span class="st">'day_of_week'</span>] <span class="op">=</span> pd.Categorical(grouped_week_count[<span class="st">'day_of_week'</span>], categories<span class="op">=</span> day_categories)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>grouped_week_count.sort_values(by <span class="op">=</span> <span class="st">'day_of_week'</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> grouped_week_count, x <span class="op">=</span> <span class="st">'day_of_week'</span>, y <span class="op">=</span> <span class="st">'date'</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Day of the Week'</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of games per day of the Week'</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-6-output-1.png" width="610" height="442"></p>
</div>
</div>
</section>
<section id="attendance-time-of-day" class="level2">
<h2 class="anchored" data-anchor-id="attendance-time-of-day">Attendance Time of Day</h2>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_grouped_mean_tod<span class="op">=</span> time_df.groupby(time_df[<span class="st">'date_time'</span>].dt.hour).mean()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df_grouped_median_tod<span class="op">=</span> time_df.groupby(time_df[<span class="st">'date_time'</span>].dt.hour).median()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data <span class="op">=</span> df_grouped_median_tod, x <span class="op">=</span> <span class="st">'date_time'</span>, y <span class="op">=</span> <span class="st">'raw_attendance'</span>, markers <span class="op">=</span> <span class="va">True</span>, marker <span class="op">=</span> <span class="st">"o"</span> )</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Attendance by Time of Day'</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Hour of the Day'</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Attendance'</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-7-output-1.png" width="610" height="442"></p>
</div>
</div>
</section>
<section id="number-of-games-time-of-day" class="level2">
<h2 class="anchored" data-anchor-id="number-of-games-time-of-day">Number of Games Time of Day</h2>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df_grouped_count <span class="op">=</span> time_df.groupby(time_df[<span class="st">'date_time'</span>].dt.hour).count()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df_grouped_count= df_grouped_count.rename(columns = {'date':'count'})</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_grouped_count)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.lineplot(data = df_grouped_median_tod, x = 'date_time', y = 'raw_attendance', markers = True, marker = "o" )</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ax2 = plt.twinx()</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data <span class="op">=</span> df_grouped_count, x <span class="op">=</span> <span class="st">'date_time'</span>, y <span class="op">=</span> <span class="st">'raw_attendance'</span>, markers <span class="op">=</span> <span class="va">True</span>, marker <span class="op">=</span> <span class="st">"o"</span> )</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            date   time  day_of_week  date_time  raw_attendance  \
date_time                                                         
10            31     31           31         31              31   
11          1098   1098         1098       1098            1098   
12          2446   2446         2446       2446            2446   
13           967    967          967        967             967   
14          6730   6730         6730       6730            6730   
15         15395  15395        15395      15395           15395   
16          2690   2690         2690       2690            2690   
17          5188   5188         5188       5188            5188   
18          1767   1767         1767       1767            1767   
19         13252  13252        13252      13252           13252   
20          3154   3154         3154       3154            3154   
21           502    502          502        502             502   
22            18     18           18         18              18   

           capacity_filled  
date_time                   
10                      31  
11                    1098  
12                    2446  
13                     967  
14                    6730  
15                   15395  
16                    2690  
17                    5188  
18                    1767  
19                   13252  
20                    3154  
21                     502  
22                      18  </code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-8-output-2.png" width="626" height="424"></p>
</div>
</div>
</section>
<section id="away-teams-impact-best-teams" class="level2">
<h2 class="anchored" data-anchor-id="away-teams-impact-best-teams">Away Teams Impact Best Teams</h2>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>impact_data <span class="op">=</span> total_data_set[total_data_set.division <span class="op">!=</span> <span class="st">'SC2'</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>impact_data <span class="op">=</span> impact_data[[<span class="st">'home_team'</span>, <span class="st">'away_team'</span>, <span class="st">'date_time'</span>, <span class="st">'division'</span>, <span class="st">'raw_attendance'</span>, <span class="st">'capacity_filled'</span>]]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>impact_data[<span class="st">'year'</span>]<span class="op">=</span> impact_data[<span class="st">'date_time'</span>].dt.year</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>impact_data <span class="op">=</span> impact_data.dropna()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>average_team_attendance <span class="op">=</span> impact_data.groupby([<span class="st">'year'</span>, <span class="st">'home_team'</span>]).mean().reset_index().rename(columns <span class="op">=</span> {<span class="st">'raw_attendance'</span>:<span class="st">'avg_raw_attendance'</span>, <span class="st">'capacity_filled'</span>:<span class="st">'avg_capacity_filled'</span>})</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>standard_dev_attendance <span class="op">=</span> impact_data.groupby([<span class="st">'year'</span>, <span class="st">'home_team'</span>]).std().reset_index().rename(columns <span class="op">=</span> {<span class="st">'raw_attendance'</span>:<span class="st">'std_raw_attendance'</span>, <span class="st">'capacity_filled'</span>:<span class="st">'std_capacity_filled'</span>})</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># print(average_team_attendance)</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co"># print(standard_dev_attendance)</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>avg_df <span class="op">=</span> pd.merge(impact_data,average_team_attendance, on <span class="op">=</span> [<span class="st">'year'</span>,<span class="st">'home_team'</span>])</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>avg_df <span class="op">=</span> pd.merge(avg_df, standard_dev_attendance, on <span class="op">=</span> [<span class="st">'year'</span>, <span class="st">'home_team'</span>])</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># print(avg_df)</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co"># print(avg_df.isna().sum())</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>avg_df[<span class="st">'away_team_impact'</span>] <span class="op">=</span> avg_df[<span class="st">'raw_attendance'</span>] <span class="op">-</span> avg_df[<span class="st">'avg_raw_attendance'</span>]</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>avg_df[<span class="st">'attendance_zscore'</span>] <span class="op">=</span> (avg_df[<span class="st">'raw_attendance'</span>]<span class="op">-</span> avg_df[<span class="st">'avg_raw_attendance'</span>])<span class="op">/</span>avg_df[<span class="st">'std_raw_attendance'</span>]</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co"># print(avg_df.sort_values('attendance_zscore'))</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co"># avg_df.to_csv('src/Teams_impact/avg_df.csv')</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>away_team_impact <span class="op">=</span> avg_df.groupby([<span class="st">'away_team'</span>, <span class="st">'division'</span>]).mean().reset_index()</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>away_team_impact <span class="op">=</span> away_team_impact[[<span class="st">'away_team'</span>, <span class="st">'attendance_zscore'</span>, <span class="st">'away_team_impact'</span>,<span class="st">'division'</span>]].reset_index()</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>away_top_30 <span class="op">=</span> away_team_impact.sort_values(<span class="st">'away_team_impact'</span>, ascending <span class="op">=</span> <span class="va">False</span>).head(<span class="dv">30</span>).sort_values([<span class="st">'division'</span>, <span class="st">'away_team_impact'</span>], ascending<span class="op">=</span> [<span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>div_dict <span class="op">=</span> {<span class="st">'D1'</span>:<span class="st">'Bundesliga'</span>, <span class="st">'D2'</span>: <span class="st">'2. Bundesliga'</span>, <span class="st">'E0'</span>:<span class="st">'Premier League'</span>, <span class="st">'E1'</span>:<span class="st">'Championship'</span>, </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>            <span class="st">'E2'</span>:<span class="st">'League 1'</span>, <span class="st">'E3'</span>:<span class="st">'Leauge 2'</span>,<span class="st">'SP1'</span>:<span class="st">'La Liga Primera'</span>, <span class="st">'SP2'</span>:<span class="st">'La Liga Segunda'</span>,</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">'B1'</span>:<span class="st">'Jupiler League'</span>, <span class="st">'F1'</span>:<span class="st">'Ligue 1'</span>,<span class="st">'F2'</span>:<span class="st">'Ligue 2'</span>,<span class="st">'I1'</span>:<span class="st">'Serie A'</span>,<span class="st">'I2'</span>:<span class="st">'Seire B'</span>, </span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">'SC0'</span>:<span class="st">'Scotish Premier League'</span>, <span class="st">'SC1'</span>:<span class="st">'Scotish Division 1'</span>, <span class="st">'T1'</span>:<span class="st">'Fubol Ligi 1'</span>}</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>away_top_30 <span class="op">=</span> away_top_30.replace({<span class="st">'division'</span>:div_dict})</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># div_avg = div_avg.replace({'division':div_dict})</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="co"># print(away_top_30)</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> away_top_30, x <span class="op">=</span> <span class="st">'away_team_impact'</span>, y <span class="op">=</span> <span class="st">'away_team'</span>, hue <span class="op">=</span> <span class="st">'division'</span>, dodge <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Away Teams Impact on Attendance: Top 30 Teams'</span>)</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Mean Attendnace Increase'</span>)</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Away Team'</span>)</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>plt.legend(bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="dv">1</span>), loc<span class="op">=</span><span class="st">'upper left'</span>, borderaxespad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-9-output-1.png" width="979" height="442"></p>
</div>
</div>
</section>
<section id="away-team-impact-worst-teams" class="level2">
<h2 class="anchored" data-anchor-id="away-team-impact-worst-teams">Away Team Impact Worst Teams</h2>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>away_bottom_30 <span class="op">=</span> away_team_impact.sort_values(<span class="st">'away_team_impact'</span>, ascending <span class="op">=</span> <span class="va">True</span>).head(<span class="dv">30</span>).sort_values([<span class="st">'division'</span>, <span class="st">'away_team_impact'</span>], ascending<span class="op">=</span> [<span class="va">True</span>, <span class="va">True</span>])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>away_bottom_30 <span class="op">=</span> away_bottom_30.replace({<span class="st">'division'</span>:div_dict})</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> away_bottom_30, x <span class="op">=</span> <span class="st">'away_team_impact'</span>, y <span class="op">=</span> <span class="st">'away_team'</span>, hue <span class="op">=</span> <span class="st">'division'</span>, dodge <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Away Teams Impact on Attendance: Bottom 30 Teams'</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Mean Attendnace Increase'</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>plt.legend(bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="dv">1</span>), loc<span class="op">=</span><span class="st">'upper left'</span>, borderaxespad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Away Team'</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-10-output-1.png" width="902" height="442"></p>
</div>
</div>
</section>
<section id="division-capacity" class="level2">
<h2 class="anchored" data-anchor-id="division-capacity">Division Capacity</h2>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>div_dict <span class="op">=</span> {<span class="st">'D1'</span>:<span class="st">'Bundesliga'</span>, <span class="st">'D2'</span>: <span class="st">'2. Bundesliga'</span>, <span class="st">'E0'</span>:<span class="st">'Premier League'</span>, <span class="st">'E1'</span>:<span class="st">'Championship'</span>, </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">'E2'</span>:<span class="st">'League 1'</span>, <span class="st">'E3'</span>:<span class="st">'Leauge 2'</span>,<span class="st">'SP1'</span>:<span class="st">'La Liga Primera'</span>, <span class="st">'SP2'</span>:<span class="st">'La Liga Segunda'</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">'B1'</span>:<span class="st">'Jupiler League'</span>, <span class="st">'F1'</span>:<span class="st">'Ligue 1'</span>,<span class="st">'F2'</span>:<span class="st">'Ligue 2'</span>,<span class="st">'I1'</span>:<span class="st">'Serie A'</span>,<span class="st">'I2'</span>:<span class="st">'Seire B'</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">'SC0'</span>:<span class="st">'Scotish Premier League'</span>, <span class="st">'SC1'</span>:<span class="st">'Scotish Division 1'</span>, <span class="st">'T1'</span>:<span class="st">'Fubol Ligi 1'</span>}</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>div_avg <span class="op">=</span> impact_data.groupby(<span class="st">'division'</span>).median().reset_index().sort_values(<span class="st">'capacity_filled'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>div_avg <span class="op">=</span> div_avg.replace({<span class="st">'division'</span>:div_dict})</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print(div_avg['division'])</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># away_team_impact.to_csv('src/Teams_impact/away_team_impact.csv')</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>division_fig <span class="op">=</span> sns.barplot(data <span class="op">=</span> div_avg, y<span class="op">=</span><span class="st">'division'</span>, x<span class="op">=</span> <span class="st">'capacity_filled'</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.bar(div_avg['division'], div_avg['capacity_filled'],  align = 'center')</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average Capacity Filled By League'</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Average Capacity Filled'</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'League'</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.set_palette(sns.color_palette("rocket"))</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-11-output-1.png" width="728" height="442"></p>
</div>
</div>
</section>
<section id="standardized-best-away-teams-impact" class="level2">
<h2 class="anchored" data-anchor-id="standardized-best-away-teams-impact">Standardized Best Away Teams Impact</h2>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>away_top_30_std <span class="op">=</span> away_team_impact.sort_values(<span class="st">'attendance_zscore'</span>, ascending <span class="op">=</span> <span class="va">False</span>).head(<span class="dv">30</span>).sort_values([<span class="st">'division'</span>, <span class="st">'away_team_impact'</span>], ascending<span class="op">=</span> [<span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>away_top_30_std <span class="op">=</span> away_top_30_std.replace({<span class="st">'division'</span>:div_dict})</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> away_top_30_std, x <span class="op">=</span> <span class="st">'attendance_zscore'</span>, y <span class="op">=</span> <span class="st">'away_team'</span>, hue <span class="op">=</span> <span class="st">'division'</span>, dodge <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Away Teams Impact on Attendance Standardized: Top 30 Teams'</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Z Score of Mean Attendance Increase'</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>plt.legend(bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="dv">1</span>), loc<span class="op">=</span><span class="st">'upper left'</span>, borderaxespad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Away Team'</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-12-output-1.png" width="979" height="442"></p>
</div>
</div>
</section>
<section id="standardized-worst-away-teams-impact" class="level2">
<h2 class="anchored" data-anchor-id="standardized-worst-away-teams-impact">Standardized Worst Away Teams Impact</h2>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>away_bottom_30_std <span class="op">=</span> away_team_impact.sort_values(<span class="st">'attendance_zscore'</span>, ascending <span class="op">=</span> <span class="va">True</span>).head(<span class="dv">30</span>).sort_values([<span class="st">'division'</span>, <span class="st">'away_team_impact'</span>], ascending<span class="op">=</span> [<span class="va">True</span>, <span class="va">True</span>])</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>away_bottom_30_std <span class="op">=</span> away_bottom_30_std.replace({<span class="st">'division'</span>:div_dict})</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> away_bottom_30_std, x <span class="op">=</span> <span class="st">'attendance_zscore'</span>, y <span class="op">=</span> <span class="st">'away_team'</span>, hue <span class="op">=</span> <span class="st">'division'</span>, dodge <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Away Teams Impact on Attendance Standardized: Bottom 30 Teams'</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Z Score of Mean Attendance Increase'</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>plt.legend(bbox_to_anchor<span class="op">=</span>(<span class="fl">1.05</span>, <span class="dv">1</span>), loc<span class="op">=</span><span class="st">'upper left'</span>, borderaxespad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Away Team'</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="mid_presentation_files/figure-html/cell-13-output-1.png" width="955" height="442"></p>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import ipywidgets as widgets</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># leagues_impact_away_team = away_team_impact</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # .sort_values('division').replace({'division':div_dict})</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># divisions_list = list(set(leagues_impact_away_team.division.values.tolist()))</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># # print(divisions_list)</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # print(sorted(divisions_list))</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># divisions_list = [div_dict.get(item,item) for item in divisions_list]</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # print(divisions_list)</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># # dd = widgets.Dropdown(</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># #   options = divisions_list,</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># #   value = divisions_list[0],</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># #   description = 'Select a Division'</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># # )</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co"># def draw_plot(divisions_list):</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   df = away_team_impact[away_team_impact['division']==divisions_list]</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   p = sns.barplot(data = df,</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="co">#                     x = 'attendance_zscore', y = 'away_team', dodge = False)</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co"># division = widgets.Dropdown(options = divisions_list, description = 'Division:')</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="co"># gui = widgets.interactive(draw_plot, divisions_list = divisions_list)</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="co"># # display(x)</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="co"># gui</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setbacks" class="level2">
<h2 class="anchored" data-anchor-id="setbacks">Setbacks</h2>
<ul>
<li>Data Scraping and Processing took significantly longer than expected</li>
<li>Once Scraping and Processing was complete. The questions refereing to a teams position in the league affect on attendance were unattainable
<ul>
<li>The position would be columsn that need to be created and with missing data and not a consitent schedule of leagues start date</li>
</ul></li>
<li>Calendar Mat plot have been a struggle to get to function properly.</li>
</ul>
</section>
<section id="future-work" class="level2">
<h2 class="anchored" data-anchor-id="future-work">Future Work</h2>
<ul>
<li>Betting Data Analysis</li>
<li>Model for Team Attendance</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>